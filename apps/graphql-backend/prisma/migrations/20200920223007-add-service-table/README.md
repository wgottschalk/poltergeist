# Migration `20200920223007-add-service-table`

This migration has been generated by Will Gottschalk at 9/20/2020, 3:30:07 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Service" (
    "id" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "branchName" TEXT NOT NULL,
    "buildCommand" TEXT NOT NULL,
    "publishDirectory" TEXT NOT NULL,

    FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE,
PRIMARY KEY ("id")
)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200920214535-remove-teams-for-mvp..20200920223007-add-service-table
--- datamodel.dml
+++ datamodel.dml
@@ -3,14 +3,25 @@
 }
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 model User {
   id         String   @id @default(cuid())
   name       String
   githubName String
   email      String
+  services   Service[]
 }
+
+model Service {
+  id String @id @default(cuid())
+  user User @relation(fields: [userId], references: [id])
+  userId String
+
+  branchName String
+  buildCommand String
+  publishDirectory String
+}
```


